{"mappings":"iiBAuDA,IAAAA,EAAAC,EAAA,SAEMC,EAAaC,SAASC,cAAc,kBACpCC,EAAeF,SAASC,cAAc,oBACtCE,EAAOH,SAASC,cAAc,kBAkBpC,IAAMG,EAAeC,EAAAR,GAAES,UAhBvB,WACE,IAEMC,EAAO,CACXC,MAHYT,EAAWU,MAAMC,OAI7BC,QAHcT,EAAaO,MAAMC,QAMnC,IACE,IAAME,EAAeC,KAAKC,UAAUP,GACpCQ,aAAaC,QAAQ,sBAAuBJ,E,CAC5C,MAAOK,GACPC,QAAQC,IAAI,uBAAyBF,E,IAIE,KAE3ClB,EAAWqB,iBAAiB,QAAShB,GACrCF,EAAakB,iBAAiB,QAAShB,GACvCD,EAAKiB,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAMC,iBACN,IAAMC,EAAW,CACff,MAAOT,EAAWU,MAAMC,OACxBC,QAAST,EAAaO,MAAMC,QAEP,KAAnBa,EAASf,OAAqC,KAArBe,EAASZ,QACpCa,MAAM,8CAENN,QAAQC,IAAII,GACZR,aAAaU,WAAW,uBACxB1B,EAAWU,MAAQ,KACnBP,EAAaO,MAAQ,K,IAIzB,IACE,IAAMiB,EAAab,KAAKc,MAAMZ,aAAaa,QAAQ,wBAC1B,KAArBF,EAAWlB,OAAuC,KAAvBkB,EAAWf,UACxCZ,EAAWU,MAAQiB,EAAWlB,MAC9BN,EAAaO,MAAQiB,EAAWf,Q,CAElC,MAAOM,GACPC,QAAQC,IAAI,qBAAuBF,E","sources":["src/js/03-feedback.js"],"sourcesContent":["// import { _ } from 'lodash';\n\n// const form = document.querySelector('.feedback-form');\n// const localStorageKey = 'feedback-form-state';\n// const formEmail = document.querySelector(\"[name='email']\");\n// const formMessage = document.querySelector(\"[name='message']\");\n\n// function saveInput() {\n//   const email = formEmail.value.trim();\n//   const message = formMessage.value.trim();\n//   const formData = {\n//     email,\n//     message,\n//   };\n// }\n\n// try {\n//   const stringedData = JSON.stringify(formData);\n//   localStorage.setItem(localStorageKey, stringedData);\n// } catch (error) {\n//   console.log('stringify error:' + error);\n// }\n\n// const throttleSaveInput = _.throttle(saveInput, 500);\n\n// formEmail.addEventListener('input', throttleSaveInput);\n// formMessage.addEventListener('input', throttleSaveInput);\n// form.addEventListener('submit', onSubmit);\n\n// function onSubmit(event) {\n//   event.preventDefault();\n//   const sentData = {\n//     email: formEmail.value.trim(),\n//     message: formMessage.value.trim(),\n//   };\n//   if (sentData.email === '' || sentData.message === '') {\n//     alert('Fill all the fields.');\n//   } else {\n//     console.log(sentData);\n//     localStorage.removeItem(localStorageKey);\n//     formEmail.value = null;\n//     formMessage.value = null;\n//   }\n// }\n\n// try {\n//   const parsedData = JSON.parse(localStorage.getItem(localStorageKey));\n//   if (parsedData.email !== '' || parsedData.message !== '') {\n//     formEmail.value = parsedData.email;\n//     formMessage.value = parsedData.message;\n//   }\n// } catch (error) {\n//   console.log('parse error:' + error);\n// }\n\nimport _ from 'lodash';\n\nconst emailInput = document.querySelector(\"[name='email']\");\nconst messageInput = document.querySelector(\"[name='message']\");\nconst form = document.querySelector('.feedback-form');\n\nfunction saveInput() {\n  const email = emailInput.value.trim();\n  const message = messageInput.value.trim();\n  const data = {\n    email,\n    message,\n  };\n\n  try {\n    const stringedData = JSON.stringify(data);\n    localStorage.setItem('feedback-form-state', stringedData);\n  } catch (error) {\n    console.log('stringedData error: ' + error);\n  }\n}\n\nconst throttleSave = _.throttle(saveInput, 500);\n\nemailInput.addEventListener('input', throttleSave);\nmessageInput.addEventListener('input', throttleSave);\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const sentData = {\n    email: emailInput.value.trim(),\n    message: messageInput.value.trim(),\n  };\n  if (sentData.email === '' || sentData.message === '') {\n    alert('Both fields must be filled before sending');\n  } else {\n    console.log(sentData);\n    localStorage.removeItem('feedback-form-state');\n    emailInput.value = null;\n    messageInput.value = null;\n  }\n}\n\ntry {\n  const parsedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n  if (parsedData.email !== '' || parsedData.message !== '') {\n    emailInput.value = parsedData.email;\n    messageInput.value = parsedData.message;\n  }\n} catch (error) {\n  console.log('parsedData error: ' + error);\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$emailInput","document","querySelector","$b00c40859be242c5$var$messageInput","$b00c40859be242c5$var$form","$b00c40859be242c5$var$throttleSave","$parcel$interopDefault","throttle","data","email","value","trim","message","stringedData","JSON","stringify","localStorage","setItem","error","console","log","addEventListener","event","preventDefault","sentData","alert","removeItem","$b00c40859be242c5$var$parsedData","parse","getItem"],"version":3,"file":"03-feedback.dc82a37f.js.map"}